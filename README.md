# 统计检验样本量计算器

这是一个用 Python (FastAPI + Bootstrap) 复刻的 A/B 测试样本量计算器，原项目是基于 R  开发的 [AB-Test-Sample-Size-Calculator](https://github.com/pieces201020/AB-Test-Sample-Size-Calculator)。本项目保持了原有的计算逻辑，同时使用现代 Web 技术栈重新实现了界面，提供了一致的用户体验。

## 功能特点

- 支持两种类型的指标计算：
  - 概率类指标（如点击率、转化率等）
  - 均值类指标（如用户支付金额、使用时长等）
- 提供直观的 Web 界面，便于输入参数和查看结果
- 实时计算，无需刷新页面
- 支持多种计算维度：
  - 基础样本量计算
  - 测试时间估算（基于固定流量）
  - 所需流量估算（基于固定时间）
- 提供详细的使用案例

## 与原项目的主要区别

1. 技术栈升级：
   - 后端从 R 替换为 Python FastAPI
   - 前端使用 Bootstrap 5 重构，提供更现代的界面
   - 保持了与原项目相同的计算方法和精度

2. 功能优化：
   - 优化了页面布局，采用三栏式设计
   - 增加了使用案例说明
   - 提供了更详细的参数说明

## 使用方法

### 概率类指标

适用于转化率、点击率等概率类指标的样本量计算。

#### 输入参数
- 原始指标：对照组的基准指标值（如 5% 输入 5）
- 最小可检测相对提升：期望检测到的最小相对变化（如 20% 输入 20）
- 分组总数：实验的总分组数（默认为 2，即对照组和实验组）
- 置信水平：统计检验的置信度（推荐 95%）

#### 使用案例
例如：测试新的推送内容，已知：
- 旧推送内容点击率为 5%
- 希望在 95% 置信水平上检测到 10% 的相对提升
- 输入参数后，计算得到每组需要 31,234 个样本，总样本量为 62,468

### 均值类指标

适用于连续型数值指标（如支付金额、使用时长等）的样本量计算。

#### 输入参数
- 预期差值：期望检测到的最小绝对差异
- 标准差：指标的标准差
- 分组总数：实验的总分组数（默认为 2）
- 置信水平：统计检验的置信度（推荐 95%）

#### 使用案例
例如：测试新的游戏推荐算法，已知：
- 指标标准差为 15
- 希望在 95% 置信水平上检测到 0.5 元的绝对提升
- 输入参数后，计算得到每组需要 14,129 个样本，总样本量为 28,258

## 技术实现

- 后端：FastAPI
- 前端：Bootstrap 5
- 计算方法：
  - 概率类指标：基于比例检验（Proportion Test）
  - 均值类指标：基于 t 检验（t-Test）

## 本地运行

1. 安装依赖：
```bash
pip install -r requirements.txt
```

2. 启动服务器：
```bash
cd app
python main.py
```

3. 访问地址：
```
http://127.0.0.1:8000
```

## 致谢

感谢原项目 [AB-Test-Sample-Size-Calculator](https://github.com/pieces201020/AB-Test-Sample-Size-Calculator) 的作者提供的优秀工作和灵感。

## 许可证

本项目采用 MIT 许可证。详见 [LICENSE](LICENSE) 文件。 
